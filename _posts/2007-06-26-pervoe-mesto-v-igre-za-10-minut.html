---
layout: post
status: publish
published: true
title: "Первое место в игре за 10 минут"
author:
  display_name: Eunix
  login: admin
  email: mi@eunix.ru
  url: http://www.eunix.ru
author_login: admin
author_email: mi@eunix.ru
author_url: http://www.eunix.ru
excerpt: "<p>Сегодня утром мне Азим пишет, что хотел бы занятся изучением технологии
  Adobe Flash, а в идеале -- сделать простую браузерную игрушку наподобие BomberMan.
  Он даже пример привёл -- игра <a href=\"http://www.krestavilis.com/games/\">Anna's
  Memory Lane</a>. Это, конечно, не BomberMan, а обычная логическая игра, но, чтобы
  сделать даже её, надо обладать знаниями в разработке подобных игр.</p>\n<p>Решил
  я в эту игру сыграть =) правила просты (обычный MemoryGame) -- надо нажимать по
  два квадратика, на которых открываются фотографии. Если открыл две одинаковые, то
  подсвечиваются. Цель игры -- наиболее бысто найти все одинаковые фотки. Поиграл-поиграл
  я в эту игру: минуты за две я её прошёл, ввёл своё имя и... оказался на триста каком-то
  месте. А таблица рекордов выглядела так:</p>\n<div align=\"center\">\n<table width=\"400\"
  style=\"border:#CCC 1px solid;\">\n<tr style=\"background-color:#A5BED2;\"><td>1</td><td>Azeem</td><td>0:53.88</td><td>24,
  6, 2007</td></tr>\n\n<tr><td>2</td> \t<td>Draco</td> <td>0:54.13</td> \t<td>20,
  6, 2007</td></tr>\n\n<tr style=\"background-color:#A5BED2;\"><td>3</td><td>ibdrummer</td><td>1:01.46</td><td>20,
  6, 2007</td></tr>\n\n<tr><td>4</td><td>Draco</td><td>1:02.29</td><td>27, 5, 2007</td></tr>\n\n<tr
  style=\"background-color:#A5BED2;\"><td>5</td><td>takamathrax</td><td>1:06.46</td><td>1,
  6, 2007</td></tr>\n\n<tr><td>6</td><td>will</td><td>1:07.50</td><td>30, 5, 2007</td></tr>\n\n<tr
  style=\"background-color:#A5BED2;\"><td>7</td><td>vi</td><td>1:08.25</td><td>3,
  6, 2007</td></tr>\n\n<tr><td>18</td><td>Ibdrummer - YEA</td><td>1:10.88</td><td>11,
  6, 2007</td></tr>\n\n<tr style=\"background-color:#A5BED2;\"><td>9</td><td>I beat
  will</td><td>1:11.8</td><td>30, 5, 2007</td></tr>\n\n<tr><td>10</td><td>will</td><td>1:12.58</td><td>24,
  5, 2007</td></tr>\n</table>\n</div>\n<p>После моей игры она стала выглядеть совсем
  по-другому...</p>\n"
wordpress_id: 358
wordpress_url: http://www.regruppa.ru/blog/2007/06/26/pervoe-mesto-v-igre-za-10-minut.html
date: '2007-06-26 15:49:50 +0400'
date_gmt: '2007-06-26 11:49:50 +0400'
categories:
- "Забавное"
tags:
- anna
- flash-игра
- hack
- "взлом"
- firebug
- swf-decompiler
comments:
- id: 953
  author: Eunix
  author_email: mi@eunix.ru
  author_url: http://www.eunix.ru
  date: '2007-06-27 14:54:24 +0400'
  date_gmt: '2007-06-27 10:54:24 +0400'
  content: |-
    Всё-таки они увидели, чем я занимался :) удалили все мои результаты, так как я в первый раз кучу пустых запросов накидал.
    Можно прочитать их форум: http://annafaris.net/forum2007/viewtopic.php?t=5
- id: 954
  author: ErliZz
  author_email: erlizz@list.ru
  author_url: http://erlizz.regruppa.ru/
  date: '2007-06-27 16:15:00 +0400'
  date_gmt: '2007-06-27 12:15:00 +0400'
  content: "*SECRET* регруппа приперлась пиариться еще на 1 сайт =))) *SECRET*"
- id: 955
  author: Eunix
  author_email: mi@eunix.ru
  author_url: http://www.eunix.ru
  date: '2007-06-27 16:22:26 +0400'
  date_gmt: '2007-06-27 12:22:26 +0400'
  content: "*ANGEL*"
- id: 963
  author: Eunix
  author_email: mi@eunix.ru
  author_url: http://www.eunix.ru
  date: '2007-06-28 11:05:03 +0400'
  date_gmt: '2007-06-28 07:05:03 +0400'
  content: |-
    <div align="center">
    <img src="http://www.regruppa.ru/content/blog/2007/06/anna_ban.png" />
    </div>
- id: 964
  author: ErliZz
  author_email: erlizz@list.ru
  author_url: http://erlizz.regruppa.ru/
  date: '2007-06-28 12:55:10 +0400'
  date_gmt: '2007-06-28 08:55:10 +0400'
  content: '"регруппе надавали по жопе за пеар" ©'
- id: 966
  author: ER
  author_email: er@2ka.mipt.ru
  author_url: ''
  date: '2007-06-28 13:30:52 +0400'
  date_gmt: '2007-06-28 09:30:52 +0400'
  content: "Впервой чтоль банют? %)"
- id: 969
  author: Eunix
  author_email: mi@eunix.ru
  author_url: http://www.eunix.ru
  date: '2007-06-29 12:17:11 +0400'
  date_gmt: '2007-06-29 08:17:11 +0400'
  content: |-
    Вот, что <a href="http://www.krestavilis.com/games/" rel="nofollow">у них сейчас написано</a> =)
    <blockquote>
    Hello to all

    You may have noticed that the first place was held by Azeem for a period of time and now he is nowhere to be found. I have removed him from the board because I found out that he was a cheater. Azeem with the help if his friend Eunix had found a way to <a href="http://translate.google.com/translate?u=http%3A%2F%2Fwww.regruppa.ru%2Fblog%2F2007%2F06%2F26%2Fpervoe-mesto-v-igre-za-10-minut.html&langpair=ru%7Cen&hl=en&ie=UTF-8&oe=UTF-8&prev=%2Flanguage_tools" rel="nofollow">hack</a> into the high score board to put their name on top. The hack had been countered, and now the game is immune to it. Users going by the name of Azeem, Azim, Eunix and Regruppa are now banned from the score board in result of their actions. Keep it clean guys!

    Fred
    </blockquote>
- id: 1028
  author: "Ярославль в Сан Франциско | Regruppa"
  author_email: ''
  author_url: http://www.regruppa.ru/blog/2007/07/07/yaroslavl-v-san-frantsisko.html
  date: '2007-07-07 22:10:42 +0400'
  date_gmt: '2007-07-07 18:10:42 +0400'
  content: "[...] Кстати, совсем недавно этот сервис помог администраторам наконец-то
    понять, что на их игру посмотрели изнутри: после этого они всё быстренько исправили&#8230;
    по крайней мере они так думают [...]"
- id: 3178
  author: edelweisse
  author_email: april_spencer2917@yahoo.com
  author_url: http://friendster(hanabi_edzel@yahoo.com)
  date: '2008-05-16 09:40:40 +0400'
  date_gmt: '2008-05-16 05:40:40 +0400'
  content: "*SMILE*  hi, ur good! uhm, i've e-mail fred and tod. and i'm really expecting
    u will reply on my message. the game is great! uhm, from what movie is the picture
    that anna is wearing blue and has a worried face? anna faris is really great!
    tnx!"
---
<p>Сегодня утром мне Азим пишет, что хотел бы занятся изучением технологии Adobe Flash, а в идеале -- сделать простую браузерную игрушку наподобие BomberMan. Он даже пример привёл -- игра <a href="http://www.krestavilis.com/games/">Anna's Memory Lane</a>. Это, конечно, не BomberMan, а обычная логическая игра, но, чтобы сделать даже её, надо обладать знаниями в разработке подобных игр.</p>
<p>Решил я в эту игру сыграть =) правила просты (обычный MemoryGame) -- надо нажимать по два квадратика, на которых открываются фотографии. Если открыл две одинаковые, то подсвечиваются. Цель игры -- наиболее бысто найти все одинаковые фотки. Поиграл-поиграл я в эту игру: минуты за две я её прошёл, ввёл своё имя и... оказался на триста каком-то месте. А таблица рекордов выглядела так:</p>
<div align="center">
<table width="400" style="border:#CCC 1px solid;">
<tr style="background-color:#A5BED2;">
<td>1</td>
<td>Azeem</td>
<td>0:53.88</td>
<td>24, 6, 2007</td>
</tr>
<tr>
<td>2</td>
<td>Draco</td>
<td>0:54.13</td>
<td>20, 6, 2007</td>
</tr>
<tr style="background-color:#A5BED2;">
<td>3</td>
<td>ibdrummer</td>
<td>1:01.46</td>
<td>20, 6, 2007</td>
</tr>
<tr>
<td>4</td>
<td>Draco</td>
<td>1:02.29</td>
<td>27, 5, 2007</td>
</tr>
<tr style="background-color:#A5BED2;">
<td>5</td>
<td>takamathrax</td>
<td>1:06.46</td>
<td>1, 6, 2007</td>
</tr>
<tr>
<td>6</td>
<td>will</td>
<td>1:07.50</td>
<td>30, 5, 2007</td>
</tr>
<tr style="background-color:#A5BED2;">
<td>7</td>
<td>vi</td>
<td>1:08.25</td>
<td>3, 6, 2007</td>
</tr>
<tr>
<td>18</td>
<td>Ibdrummer - YEA</td>
<td>1:10.88</td>
<td>11, 6, 2007</td>
</tr>
<tr style="background-color:#A5BED2;">
<td>9</td>
<td>I beat will</td>
<td>1:11.8</td>
<td>30, 5, 2007</td>
</tr>
<tr>
<td>10</td>
<td>will</td>
<td>1:12.58</td>
<td>24, 5, 2007</td>
</tr>
</table>
</div>
<p>После моей игры она стала выглядеть совсем по-другому...</p>
<p><a id="more"></a><a id="more-358"></a></p>
<div align="center">
<img id="image359" src="http://www.regruppa.ru/content/blog/2007/06/memorygame.jpg" alt="Anna's Memory Lane" />
</div>
<p>Конечно, я сразу заметил, что почему-то Азим здесь <strong>на первом месте</strong>! Он мне признался, что интересным способом попал на первое место:</p>
<blockquote><p>Eunix (09:13:07 26/06/2007)<br />
Читер? :-)<br />
Azeem (09:13:57 26/06/2007)<br />
Ну да. Спасибо С++ и WinApi<br />
Azeem (09:16:28 26/06/2007)<br />
Совесть меня не мучает - парень реально зазнавался :)<br />
I'm still waiting for someone to top my score on the 'Memory Lane' game.<br />
Azeem (09:17:04 26/06/2007)<br />
Вот и дождался :)</p></blockquote>
<p>Хм... а если я не буду использовать <strong>C++</strong>, я смогу сделать что-нибудь подобное? И я тут же запустил <a href="http://www.getfirebug.com/">FireBug</a> -- расширение для <a href="http://www.getfirefox.com">Firefox</a>, которое помогает web-разработсикам. Оно полностью показывает всё, что происходит на странице: DOM-объекте, JS, изменения в коде, передача GET и POST, все заголовки и ответы от сервера.</p>
<div align="center">
<img id="image360" src="http://www.regruppa.ru/content/blog/2007/06/firebug.jpg" alt="Firebug" />
</div>
<p>Поиграв в игру, я, во-первых, понял, что игре передаётся XML-файл <strong>secury.xml</strong>, содержащее какой-то код для игры:</p>
<pre>
<code lang="xml">
<?xml version="1.0" encoding="ISO-8859-1"?>
<feed>
	<general>
		<secure>aF6766629</secure>
	</general>	
</feed>
</code>
</pre>
<p>А после окончания всё передаётся на файл <strong>process.php</strong>: вот и его я и стал изучать. Но, к сожалению, с помощью Firebug мне не удалось отловить заголовок POST, который передаётся серверу.</p>
<p>Я решил поступить совсем нагло =) я <a href="http://www.sothink.com/product/flashdecompiler/">скачал SWF Decompiler</a>. Конечно, с помощью него я сразу понял, зачем им понадобился секретный код:</p>
<p><code lang="actionscript"><br />
 if (this.firstChild.childNodes[f].childNodes[0].firstChild.nodeValue == "aF6766629")<br />
                    {<br />
                        Tableau.secure = true;<br />
                    } // end if<br />
</code></p>
<p>И ещё немного покопавшись в коде я наконец-то нашёл, какие переменные слать файлу:</p>
<p><code lang="actionscript"><br />
function sendData()<br />
{<br />
    comOut.nom = nom.text;<br />
    comOut.timeElapsedChron = Tableau.timeElapsedChron;<br />
    comOut.sendAndLoad("process.php", comIn, "POST");<br />
    Tableau.processing = true;<br />
    Tableau.processingTotal = comIn.getBytesLoaded();<br />
    gotoAndStop("loader");<br />
} // End of the function<br />
</code></p>
<p>Написав небольшую HTML-страничку, я отправил нужные результаты на их сервер:</p>
<div align="center">
<img id="image361" src="http://www.regruppa.ru/content/blog/2007/06/cheet.png" alt="Читерство =)" />
</div>
<p>В итоге... теперь <a href="http://www.krestavilis.com/games/hiscores.php">страница с результатами</a> выглядит так:</p>
<div align="center">
<img id="image362" src="http://www.regruppa.ru/content/blog/2007/06/hi.png" alt="Eunix на первом месте" />
</div>
<p>Видимо разработчик совсем не проверяет нулевые значения и вообще все входные данные. Посмотрим, как они потом усовершенствуют свою игру.</p>
